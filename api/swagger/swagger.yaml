swagger: "2.0"
info:
  version: "1.0.0"
  title: SGG API
host: localhost:3001
schemes:
- http
- https
securityDefinitions:
  Bearer:
    type: apiKey
    name: x-access-token
    in: header
    description: |
      For accessing the API a valid JWT token must be passed in all the queries in
      the 'Authorization' header.


      A valid JWT token is generated by the API and retourned as answer of a call
      to the route /Login giving a valid user & password.


      The following syntax must be used in the 'x-access-token' header :

          xxxxxx.yyyyyyy.zzzzzz
consumes:
- application/json
- multipart/form-data
- application/x-www-form-urlencoded
produces:
- application/json
paths:
  "/Authenticate":
    x-swagger-router-controller: UsersController
    post:
      operationId: login
      tags:
      - Login
      - Authenticate
      - Token
      description: Allow user to access security routes
      parameters:
      - name: Login
        in: formData
        description: User login name
        required: true
        type: string
      - name: Password
        in: formData
        description: User password
        required: true
        type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: "#/definitions/AuthenticateResponse"
          headers:
            Content-Type:
              type: string
              description: Media type of request
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
          headers:
            Content-Type:
              type: string
              description: Media type of request
  "/Users/":
    x-swagger-router-controller: UsersController
    get:
      security:
      - Bearer: []
      x-security-profiles:
      - User
      - Developer
      - Administrator
      x-security-applications:
      - Intranet
      tags:
      - Users
      description: Return a list of Users
      parameters: []
      responses:
        '200':
          description: Success
          schema:
            $ref: "#/definitions/DefaultResponse"
          headers:
            Content-Type:
              type: string
              description: Media type of request
        default:
          description: Error
          schema:
            "$ref": "#/definitions/ErrorResponse"
          headers:
            Content-Type:
              type: string
              description: Media type of request
definitions:
  DefaultResponse:
    required:
    - data
    - error
    - message
    properties:
      data:
        type: array
        items:
          type: object
      error:
        type: boolean
      message:
        type: string
  ErrorResponse:
    required:
    - message
    properties:
      message:
        type: string
  AuthenticateResponse:
    description: Response for authenticate endpoint
    allOf:
    - $ref: "#/definitions/DefaultResponse"
    - properties:
        token:
          type: string
